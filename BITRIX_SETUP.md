# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –ë–∏—Ç—Ä–∏–∫—Å24

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤–µ–±—Ö—É–∫–∞ –ë–∏—Ç—Ä–∏–∫—Å24

1. –í–æ–π–¥–∏—Ç–µ –≤ –≤–∞—à –ë–∏—Ç—Ä–∏–∫—Å24
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **–ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è** ‚Üí **–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞–º** ‚Üí **–í—Ö–æ–¥—è—â–∏–π –≤–µ–±—Ö—É–∫**
3. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –≤–µ–±—Ö—É–∫ —Å –ø—Ä–∞–≤–∞–º–∏:
   - **CRM** (—á—Ç–µ–Ω–∏–µ –∏ –∑–∞–ø–∏—Å—å)
   - **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏** (—á—Ç–µ–Ω–∏–µ)
4. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ URL –≤–µ–±—Ö—É–∫–∞

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞

#### –í–∞—Ä–∏–∞–Ω—Ç A: –ß–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env.local` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:
```env
BITRIX_WEBHOOK_URL=https://your-domain.bitrix24.ru/rest/1/your-webhook-code
```

#### –í–∞—Ä–∏–∞–Ω—Ç B: –ß–µ—Ä–µ–∑ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Ñ–∞–π–ª
–û–±–Ω–æ–≤–∏—Ç–µ —Ñ–∞–π–ª `src/config/bitrix.ts`:
```typescript
export const BITRIX_CONFIG = {
  WEBHOOK_URL: 'https://your-domain.bitrix24.ru/rest/1/your-webhook-code',
  // ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
};
```

### 3. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç: `npm run dev`
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É **–¢–µ—Å—Ç –ë–∏—Ç—Ä–∏–∫—Å** –≤ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
3. –ù–∞–∂–º–∏—Ç–µ **"–¢–µ—Å—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è"** - –¥–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å —Å–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
4. –ù–∞–∂–º–∏—Ç–µ **"–¢–µ—Å—Ç —Å–æ–∑–¥–∞–Ω–∏—è –∫–æ–Ω—Ç–∞–∫—Ç–∞"** - –¥–æ–ª–∂–µ–Ω —Å–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–π –∫–æ–Ω—Ç–∞–∫—Ç

### 4. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

#### –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:
1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
2. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤ –ë–∏—Ç—Ä–∏–∫—Å24 ‚Üí **CRM** ‚Üí **–ö–æ–Ω—Ç–∞–∫—Ç—ã** - –¥–æ–ª–∂–µ–Ω –ø–æ—è–≤–∏—Ç—å—Å—è –Ω–æ–≤—ã–π –∫–æ–Ω—Ç–∞–∫—Ç

#### –ü–ª–∞—Ç–µ–∂–∏:
1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É **–ü–ª–∞—Ç–µ–∂–∏**
2. –î–æ–ª–∂–Ω—ã –∑–∞–≥—Ä—É–∑–∏—Ç—å—Å—è —Å–¥–µ–ª–∫–∏ –∏–∑ –ë–∏—Ç—Ä–∏–∫—Å24
3. –ù–∞–∂–º–∏—Ç–µ **"–û–ø–ª–∞—Ç–∏—Ç—å"** - —Å–¥–µ–ª–∫–∞ –¥–æ–ª–∂–Ω–∞ –ø–µ—Ä–µ–π—Ç–∏ –≤ —Å—Ç–∞–¥–∏—é "–í—ã–∏–≥—Ä–∞–Ω–∞"

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å—Ç–∞–¥–∏–π —Å–¥–µ–ª–æ–∫

–î–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã —Å—Ç–∞—Ç—É—Å–æ–≤ –ø–ª–∞—Ç–µ–∂–µ–π –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ —Å—Ç–∞–¥–∏–∏ —Å–¥–µ–ª–æ–∫ –≤ –ë–∏—Ç—Ä–∏–∫—Å24:

1. **CRM** ‚Üí **–ù–∞—Å—Ç—Ä–æ–π–∫–∏** ‚Üí **–°—Ç–∞–¥–∏–∏ —Å–¥–µ–ª–æ–∫**
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –µ—Å—Ç—å —Å—Ç–∞–¥–∏–∏:
   - **NEW** - –¥–ª—è –Ω–æ–≤—ã—Ö —Å–¥–µ–ª–æ–∫ (—Å—Ç–∞—Ç—É—Å: "–ù–µ –æ–ø–ª–∞—á–µ–Ω–æ")
   - **WON** - –¥–ª—è –≤—ã–∏–≥—Ä–∞–Ω–Ω—ã—Ö —Å–¥–µ–ª–æ–∫ (—Å—Ç–∞—Ç—É—Å: "–û–ø–ª–∞—á–µ–Ω–æ")
   - **LOSE** - –¥–ª—è –ø—Ä–æ–∏–≥—Ä–∞–Ω–Ω—ã—Ö —Å–¥–µ–ª–æ–∫ (—Å—Ç–∞—Ç—É—Å: "–û—Ç–º–µ–Ω–µ–Ω")

## üêõ –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –û—à–∏–±–∫–∞ "Invalid webhook format"
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å URL –≤–µ–±—Ö—É–∫–∞
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤–µ–±—Ö—É–∫ –∞–∫—Ç–∏–≤–µ–Ω –≤ –ë–∏—Ç—Ä–∏–∫—Å24

### –û—à–∏–±–∫–∞ "Bitrix API error: 401"
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –≤–µ–±—Ö—É–∫–∞
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤–µ–±—Ö—É–∫ –∏–º–µ–µ—Ç –ø—Ä–∞–≤–∞ –Ω–∞ CRM –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

### –û—à–∏–±–∫–∞ "Network error"
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –ë–∏—Ç—Ä–∏–∫—Å24
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –Ω–µ—Ç –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ CORS

## üìù –õ–æ–≥–∏

–í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –ë–∏—Ç—Ä–∏–∫—Å24 –ª–æ–≥–∏—Ä—É—é—Ç—Å—è –≤ –∫–æ–Ω—Å–æ–ª—å —Å–µ—Ä–≤–µ—Ä–∞. –î–ª—è –æ—Ç–ª–∞–¥–∫–∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:
- –ö–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12)
- –ö–æ–Ω—Å–æ–ª—å —Å–µ—Ä–≤–µ—Ä–∞ Next.js
- –õ–æ–≥–∏ –≤ –ë–∏—Ç—Ä–∏–∫—Å24 ‚Üí **–ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è** ‚Üí **–í—Ö–æ–¥—è—â–∏–π –≤–µ–±—Ö—É–∫**

## ‚úÖ –ß–µ–∫-–ª–∏—Å—Ç –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏

- [ ] –í–µ–±—Ö—É–∫ –ë–∏—Ç—Ä–∏–∫—Å24 —Å–æ–∑–¥–∞–Ω –∏ –∞–∫—Ç–∏–≤–µ–Ω
- [ ] URL –≤–µ–±—Ö—É–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
- [ ] –¢–µ—Å—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –ø—Ä–æ—Ö–æ–¥–∏—Ç —É—Å–ø–µ—à–Ω–æ
- [ ] –¢–µ—Å—Ç —Å–æ–∑–¥–∞–Ω–∏—è –∫–æ–Ω—Ç–∞–∫—Ç–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Å–æ–∑–¥–∞–µ—Ç –∫–æ–Ω—Ç–∞–∫—Ç –≤ –ë–∏—Ç—Ä–∏–∫—Å24
- [ ] –ü–ª–∞—Ç–µ–∂–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –∏–∑ –ë–∏—Ç—Ä–∏–∫—Å24
- [ ] –ö–Ω–æ–ø–∫–∞ "–û–ø–ª–∞—Ç–∏—Ç—å" –æ–±–Ω–æ–≤–ª—è–µ—Ç —Å—Ç–∞–¥–∏—é —Å–¥–µ–ª–∫–∏
